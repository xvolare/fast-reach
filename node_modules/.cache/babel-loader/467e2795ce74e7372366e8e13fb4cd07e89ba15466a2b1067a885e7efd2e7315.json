{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      options: [{\n        value: 2,\n        label: '全部'\n      }, {\n        value: 1,\n        label: '正在售卖'\n      }, {\n        value: 0,\n        label: '停止售卖'\n      }],\n      value: '',\n      input: '',\n      //////\n      total: null,\n      records: [],\n      orders: [],\n      currentPage: 1,\n      // 当前页码  \n      pageSize: 10,\n      // 每页显示的条目数  \n      dialogFormVisible: false,\n      dialogFormVisibleAdd: false,\n      form: {\n        id: null,\n        name: '',\n        price: '',\n        description: '',\n        status: null,\n        image: '',\n        sum: null,\n        num: 0\n      }\n    };\n  },\n  methods: {\n    handleChange(row) {\n      console.log(row.num);\n    },\n    add(row) {\n      this.orders.push({\n        id: row.id\n      });\n    },\n    ////////////////////////////\n    searchDish() {\n      axios({\n        //菜品分页查询\n        url: '/api/business/dish/page',\n        method: 'get',\n        headers: {\n          \"token\": localStorage.getItem('token')\n        },\n        params: {\n          name: this.input,\n          //就是输入框得到的要查询菜品的名字，默认没有\n          status: this.value\n        }\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.msg == \"NOT_LOGIN\") {\n          this.$router.push('/business/login');\n          return;\n        }\n        console.log(res.data.data);\n        this.total = res.data.data.total;\n        this.records = res.data.data.records;\n      }).catch(err => {\n        console.log(err.data.msg);\n      });\n    },\n    changePage() {\n      axios({\n        //菜品分页查询\n        url: '/api/business/dish/page',\n        method: 'get',\n        headers: {\n          \"token\": localStorage.getItem('token')\n        },\n        params: {\n          name: null,\n          //就是输入框得到的要查询菜品的名字，默认没有\n          page: this.currentPage,\n          status: 2\n        }\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.msg == \"NOT_LOGIN\") {\n          this.$router.push('/business/login');\n          return;\n        }\n        console.log(res.data.data);\n        this.total = res.data.data.total;\n        this.records = res.data.data.records;\n      }).catch(err => {\n        console.log(err.data.msg);\n      });\n    }\n  },\n  mounted() {\n    this.changePage();\n  }\n};","map":{"version":3,"names":["axios","data","options","value","label","input","total","records","orders","currentPage","pageSize","dialogFormVisible","dialogFormVisibleAdd","form","id","name","price","description","status","image","sum","num","methods","handleChange","row","console","log","add","push","searchDish","url","method","headers","localStorage","getItem","params","then","res","msg","$router","catch","err","changePage","page","mounted"],"sources":["src/components/customer/CustomerOrder.vue"],"sourcesContent":["<template>\r\n\r\n  <!-- <el-container> -->\r\n  <!-- 顶栏容器 -->\r\n  <!-- 主要区域容器 -->\r\n  <!-- 底栏容器 -->\r\n  <div>\r\n    <div>\r\n      &nbsp;&nbsp;&nbsp;\r\n      <div class=\"ss\">\r\n        <el-input v-model=\"input\" placeholder=\"请输入菜品名称\"></el-input>\r\n      </div>\r\n      &nbsp;&nbsp;&nbsp;\r\n      <div class=\"ss\">\r\n        <el-select v-model=\"value\" placeholder=\"请选择菜品状态\">\r\n          <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n      &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;\r\n      <el-button type=\"primary\" @click=\"searchDish\">查询菜品</el-button>\r\n    </div>\r\n    <el-table :data=\"records\" style=\"width: 100%\">\r\n      <el-table-column label=\"图片\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.image\" alt=\"菜品图片\" style=\"width: 100%; height: auto;\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"id\" label=\"id\" width=\"180\" v-if=\"false\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"菜品名称\" width=\"180\"></el-table-column>\r\n      <el-table-column prop=\"price\" label=\"价格\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"描述\" prop=\"description\"></el-table-column>\r\n\r\n      <el-table-column label=\"状态\" prop=\"status\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.status == 0\">停止售卖</span>\r\n          <span v-else-if=\"scope.row.status == 1\">正在售卖</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"销售次数\" prop=\"sum\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"功能\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input-number size=\"mini\" v-model=\"scope.row.num\" @change=\"handleChange(scope.row)\" :min=\"0\" :max=\"100\"\r\n            label=\"描述文字\"></el-input-number>\r\n\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div style=\"margin-top: 20px;\">\r\n      <el-pagination :current-page=\"currentPage\" :page-size=\"pageSize\" @current-change=\"changePage\" layout=\"total\"\r\n        :total=\"total\"></el-pagination>\r\n    </div>\r\n\r\n\r\n  </div>\r\n  <!-- \r\n    <el-footer>Footer</el-footer>\r\n  </el-container> -->\r\n</template>\r\n<script>\r\n  import axios from 'axios';\r\n\r\n  export default {\r\n    data () {\r\n      return {\r\n        options: [{\r\n          value: 2,\r\n          label: '全部'\r\n        }, {\r\n          value: 1,\r\n          label: '正在售卖'\r\n        }, {\r\n          value: 0,\r\n          label: '停止售卖'\r\n        },\r\n        ],\r\n        value: '',\r\n        input: '',\r\n        //////\r\n        total: null,\r\n        records: [],\r\n        orders: [],\r\n        currentPage: 1, // 当前页码  \r\n        pageSize: 10, // 每页显示的条目数  \r\n        dialogFormVisible: false,\r\n        dialogFormVisibleAdd: false,\r\n        form: {\r\n          id: null,\r\n          name: '',\r\n          price: '',\r\n          description: '',\r\n          status: null,\r\n          image: '',\r\n          sum: null,\r\n          num: 0\r\n        },\r\n      };\r\n    },\r\n    methods: {\r\n      handleChange (row) {\r\n        console.log(row.num)\r\n      },\r\n      add (row) {\r\n        this.orders.push({\r\n          id: row.id,\r\n\r\n        })\r\n      },\r\n      ////////////////////////////\r\n      searchDish () {\r\n        axios({//菜品分页查询\r\n          url: '/api/business/dish/page',\r\n          method: 'get',\r\n          headers: {\r\n            \"token\": localStorage.getItem('token')\r\n          },\r\n          params: {\r\n            name: this.input,//就是输入框得到的要查询菜品的名字，默认没有\r\n            status: this.value\r\n          }\r\n        }).then(res => {\r\n          console.log(res.data)\r\n          if (res.data.msg == \"NOT_LOGIN\") {\r\n            this.$router.push('/business/login')\r\n            return;\r\n          }\r\n          console.log(res.data.data)\r\n          this.total = res.data.data.total\r\n          this.records = res.data.data.records\r\n        }).catch(err => {\r\n          console.log(err.data.msg)\r\n        })\r\n      },\r\n\r\n      changePage () {\r\n        axios({//菜品分页查询\r\n          url: '/api/business/dish/page',\r\n          method: 'get',\r\n          headers: {\r\n            \"token\": localStorage.getItem('token')\r\n          },\r\n          params: {\r\n            name: null,//就是输入框得到的要查询菜品的名字，默认没有\r\n            page: this.currentPage,\r\n            status: 2\r\n          }\r\n        }).then(res => {\r\n          console.log(res.data)\r\n          if (res.data.msg == \"NOT_LOGIN\") {\r\n            this.$router.push('/business/login')\r\n            return;\r\n          }\r\n          console.log(res.data.data)\r\n          this.total = res.data.data.total\r\n          this.records = res.data.data.records\r\n        }).catch(err => {\r\n          console.log(err.data.msg)\r\n        })\r\n      }\r\n    },\r\n    mounted () {\r\n      this.changePage()\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style>\r\n  /* .el-container {\r\n    min-height: 100vh;\r\n  } */\r\n\r\n  .el-row {\r\n    margin-bottom: 20px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 20;\r\n    }\r\n  }\r\n\r\n  .bg-purple-dark {\r\n    background: #99a9bf;\r\n  }\r\n\r\n  .ss {\r\n    display: inline-block\r\n  }\r\n</style>"],"mappings":";AA6DA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;QACAC,KAAA;QACAC,KAAA;MACA;QACAD,KAAA;QACAC,KAAA;MACA;QACAD,KAAA;QACAC,KAAA;MACA,EACA;MACAD,KAAA;MACAE,KAAA;MACA;MACAC,KAAA;MACAC,OAAA;MACAC,MAAA;MACAC,WAAA;MAAA;MACAC,QAAA;MAAA;MACAC,iBAAA;MACAC,oBAAA;MACAC,IAAA;QACAC,EAAA;QACAC,IAAA;QACAC,KAAA;QACAC,WAAA;QACAC,MAAA;QACAC,KAAA;QACAC,GAAA;QACAC,GAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,aAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAH,GAAA;IACA;IACAM,IAAAH,GAAA;MACA,KAAAhB,MAAA,CAAAoB,IAAA;QACAd,EAAA,EAAAU,GAAA,CAAAV;MAEA;IACA;IACA;IACAe,WAAA;MACA7B,KAAA;QAAA;QACA8B,GAAA;QACAC,MAAA;QACAC,OAAA;UACA,SAAAC,YAAA,CAAAC,OAAA;QACA;QACAC,MAAA;UACApB,IAAA,OAAAV,KAAA;UAAA;UACAa,MAAA,OAAAf;QACA;MACA,GAAAiC,IAAA,CAAAC,GAAA;QACAZ,OAAA,CAAAC,GAAA,CAAAW,GAAA,CAAApC,IAAA;QACA,IAAAoC,GAAA,CAAApC,IAAA,CAAAqC,GAAA;UACA,KAAAC,OAAA,CAAAX,IAAA;UACA;QACA;QACAH,OAAA,CAAAC,GAAA,CAAAW,GAAA,CAAApC,IAAA,CAAAA,IAAA;QACA,KAAAK,KAAA,GAAA+B,GAAA,CAAApC,IAAA,CAAAA,IAAA,CAAAK,KAAA;QACA,KAAAC,OAAA,GAAA8B,GAAA,CAAApC,IAAA,CAAAA,IAAA,CAAAM,OAAA;MACA,GAAAiC,KAAA,CAAAC,GAAA;QACAhB,OAAA,CAAAC,GAAA,CAAAe,GAAA,CAAAxC,IAAA,CAAAqC,GAAA;MACA;IACA;IAEAI,WAAA;MACA1C,KAAA;QAAA;QACA8B,GAAA;QACAC,MAAA;QACAC,OAAA;UACA,SAAAC,YAAA,CAAAC,OAAA;QACA;QACAC,MAAA;UACApB,IAAA;UAAA;UACA4B,IAAA,OAAAlC,WAAA;UACAS,MAAA;QACA;MACA,GAAAkB,IAAA,CAAAC,GAAA;QACAZ,OAAA,CAAAC,GAAA,CAAAW,GAAA,CAAApC,IAAA;QACA,IAAAoC,GAAA,CAAApC,IAAA,CAAAqC,GAAA;UACA,KAAAC,OAAA,CAAAX,IAAA;UACA;QACA;QACAH,OAAA,CAAAC,GAAA,CAAAW,GAAA,CAAApC,IAAA,CAAAA,IAAA;QACA,KAAAK,KAAA,GAAA+B,GAAA,CAAApC,IAAA,CAAAA,IAAA,CAAAK,KAAA;QACA,KAAAC,OAAA,GAAA8B,GAAA,CAAApC,IAAA,CAAAA,IAAA,CAAAM,OAAA;MACA,GAAAiC,KAAA,CAAAC,GAAA;QACAhB,OAAA,CAAAC,GAAA,CAAAe,GAAA,CAAAxC,IAAA,CAAAqC,GAAA;MACA;IACA;EACA;EACAM,QAAA;IACA,KAAAF,UAAA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}