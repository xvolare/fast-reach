{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      form: {\n        account: '',\n        password: ''\n      },\n      msg: ''\n    };\n  },\n  methods: {\n    login() {\n      axios({\n        url: '/api/business/employee/login',\n        method: 'post',\n        data: {\n          account: this.form.account,\n          password: this.form.password\n        }\n      }).then(res => {\n        if (res.data.code == 1) {\n          localStorage.setItem('id', res.data.data.id);\n          localStorage.setItem('token', res.data.data.token);\n          localStorage.setItem('name', res.data.data.name);\n          localStorage.setItem('permission', res.data.data.permission);\n          this.$notify({\n            title: '登录提醒',\n            message: '登录成功'\n          });\n          this.$router.push('/business/manage');\n        } else {\n          this.$notify({\n            title: '登录提醒',\n            message: '登录失败'\n          });\n          this.msg = res.data.msg;\n        }\n      }).catch(err => {\n        console.log(err.data.msg);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","form","account","password","msg","methods","login","url","method","then","res","code","localStorage","setItem","id","token","name","permission","$notify","title","message","$router","push","catch","err","console","log"],"sources":["src/views/business/BusinessLoginView.vue"],"sourcesContent":["<template>\r\n  <div id=\"topLogin\">\r\n    <div id=\"login\">\r\n      <div id=\"topic\">登录</div>\r\n      <el-form :model=\"form\" label-width=\"auto\" label-position=\"right\" style=\"max-width: 600px\">\r\n        <el-form-item label=\"账号\">\r\n          <el-input v-model=\"form.account\" placeholder=\"Please input\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\">\r\n          <el-input v-model=\"form.password\" placeholder=\"Please input\" clearable show-password />\r\n        </el-form-item>\r\n        <el-form-item id=\"button\">\r\n          <el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n          <el-button>注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div id=\"mention\">{{msg}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import axios from 'axios'\r\n  export default {\r\n    data () {\r\n      return {\r\n        form: {\r\n          account: '',\r\n          password: ''\r\n        },\r\n          msg: ''\r\n        }\r\n    },\r\n    methods: {\r\n      login () {\r\n        axios({\r\n          url: '/api/business/employee/login',\r\n          method: 'post',\r\n          data: {\r\n            account: this.form.account,\r\n            password: this.form.password\r\n          }\r\n        }).then(res => {\r\n          if (res.data.code == 1) {\r\n            localStorage.setItem('id',res.data.data.id)\r\n            localStorage.setItem('token', res.data.data.token)\r\n            localStorage.setItem('name',res.data.data.name)\r\n            localStorage.setItem('permission',res.data.data.permission)\r\n            this.$notify({\r\n              title: '登录提醒',\r\n              message: ('登录成功'),\r\n            });\r\n            this.$router.push('/business/manage')\r\n          }\r\n          else {\r\n            this.$notify({\r\n              title: '登录提醒',\r\n              message: ('登录失败'),\r\n            });\r\n            this.msg = res.data.msg\r\n          }\r\n        }).catch(err => {\r\n          console.log(err.data.msg)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  #login {\r\n    width: 350px;\r\n    padding-left: 60px;\r\n    padding-right: 40px;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n\r\n  #topic {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    line-height: 60px;\r\n    font-size: 20px;\r\n    font-family: \"Hiragino Sans GB\"\r\n  }\r\n\r\n  #topLogin {\r\n    margin-top: 0px;\r\n    background: url(\"../../assets/background1.jpg\");\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    background-size: 100% 100%;\r\n  }\r\n\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0\r\n  }\r\n\r\n  #mention {\r\n    color: red;\r\n    line-height: 60px;\r\n  }\r\n</style>"],"mappings":";AAqBA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,OAAA;QACAC,QAAA;MACA;MACAC,GAAA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACAP,KAAA;QACAQ,GAAA;QACAC,MAAA;QACAR,IAAA;UACAE,OAAA,OAAAD,IAAA,CAAAC,OAAA;UACAC,QAAA,OAAAF,IAAA,CAAAE;QACA;MACA,GAAAM,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAV,IAAA,CAAAW,IAAA;UACAC,YAAA,CAAAC,OAAA,OAAAH,GAAA,CAAAV,IAAA,CAAAA,IAAA,CAAAc,EAAA;UACAF,YAAA,CAAAC,OAAA,UAAAH,GAAA,CAAAV,IAAA,CAAAA,IAAA,CAAAe,KAAA;UACAH,YAAA,CAAAC,OAAA,SAAAH,GAAA,CAAAV,IAAA,CAAAA,IAAA,CAAAgB,IAAA;UACAJ,YAAA,CAAAC,OAAA,eAAAH,GAAA,CAAAV,IAAA,CAAAA,IAAA,CAAAiB,UAAA;UACA,KAAAC,OAAA;YACAC,KAAA;YACAC,OAAA;UACA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA,OACA;UACA,KAAAJ,OAAA;YACAC,KAAA;YACAC,OAAA;UACA;UACA,KAAAhB,GAAA,GAAAM,GAAA,CAAAV,IAAA,CAAAI,GAAA;QACA;MACA,GAAAmB,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAxB,IAAA,CAAAI,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}